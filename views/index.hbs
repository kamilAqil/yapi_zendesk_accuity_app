<div class="card">
    <div class="card-body">
        <h4 style="text-decoration:underline"> Acuity Schedule </h4>
</div>
<p id="name"></p>
<div class="previous_appt">
    <p>Previous Appointment</p>
    <p class="title">Title of Appointment</p>
    <button class="btn btn-primary" type="submit">Open Link</button>
</div>
<br>
<div class="future_appt">
    <p>Future Appointments</p>
    <p class="title">Title of Appointment</p>
    <button class="btn btn-primary" type="submit">Open Link</button>
</div>
<br>
<div class="view_all">
    <a href="/" style="font-size:12px">View all Appointments</a>

</div>

<script type="text/javascript" src="https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    let client = ZAFClient.init();
    
    {{!-- get ticket requester name --}}
    client.get('ticket.requester.name').then(function (data) {
            console.log(data['ticket.requester.name']);
            document.getElementById("name").innerHTML = data['ticket.requester.name'];
            {{!-- send ticket requester name to server api --}}
            axios.get(`http://localhost:3000/acuityAPI?ticketRequester=${data['ticket.requester.name']}`)
            .then(function (response) {
                console.dir(`Got a response from the acuity api : ${response}`);
                console.dir(response.data)
                
            })
            .catch(function (error) {
                console.log(error);
            });
        });
</script>

<script src="acuityAPI.js"></script>